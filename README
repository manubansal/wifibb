-- current --

-----------------------------
Standalone wifi tx/rx chains
-----------------------------
MATLAB version:
R2010b or higher, need Communication Toolbox

>> setup_paths
>> test_wifi_chain

-----------------------------
Decoding a sample wifi stream
-----------------------------
>> [samples, n_samples] = load_samples('../wifibb-traces/traces54/usrp-1s.dat','cplx');
>> rx_sample_stream(samples)


-- old --
Code to generate ofdm-modulated WiFi-like data. It picks random constellation points to load onto ofdm data subcarriers and loads pilot subcarriers according to the standard. Preamble is generated and prefixed to the data sample sequence. Thus, the packet is reprensetative of a wifi packet except that the actual data content is random, and no channel coding, interleaving and scrambling are performed.


gen_wifi_stf.m : generates the stf portion and stores to a binary file (and text)

gen_wifi_pkt_random.m  : generates a packet as described above and stored to binary file (and text)


-------------------------
SNR-PER characterization
-------------------------
For spec testing, follow these steps:

== Get traces ==

Check out wifibb (the folder is pretty big - 14GB when last measured):

$ svn checkout svn+ssh://<username>@snsg.stanford.edu/home/svn/repos/vbase/wifibb-traces

== Run wifibb receiver ==

Start MATLAB in wifibb folder or start MATLAB and cd to wifibb folder, then:

1. Set up paths:

>> setup_paths

2. Load in samples from trace:

>> [samples, n_samples] = load_samples('<directory containing wifibb-traces>/wifibb-traces/traces54/spectesting-siggen-rhs/54Mbps_1000b_600frames_-30dBm_seq.complex.1ch.float32','float32');

3. Run wifibb receiver on the samples just loaded:

>> rx_sample_stream(samples)

4. Repeat steps 2 and 3 for all traces


---------------------------
To run the regression test
---------------------------

Check out the trace repository:

$ svn checkout svn+ssh://<username>@snsg.stanford.edu/home/svn/repos/vbase/wifibb-traces

Start MATLAB in wifibb folder or start MATLAB and cd to wifibb folder, then:

>> setup_paths
>> [samples, n_samples] = load_samples('../wifibb-traces/traces54/regression/regression_trace','float32');
>> rx_sample_stream(samples)


---------------------------
To decode a constellation
---------------------------

>> [constpoints, n_constpoints] = load_samples('/home/manub/workspace/orsys/app/wifi54/trace/debug/d54mOfdmEq.bho0.bufOutEqualizedPnts.ORILIB_t_Cplx16Buf48.dat', 'cplx');
>> constpoints_scaled = constpoints/95.7;	% example scaling factor
>> rx_constellation_stream(constpoints_scaled, 1016)
